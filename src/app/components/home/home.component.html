<div id="margindiv">
</div>

<div *ngIf="hasReloaded != 'true'" id="loginRecommendation" style="font-size: medium">
  <p>Se recomienda que se loguee para recibir recomendaciones personalizadas por IA.</p>
</div>

<app-carousel *ngIf="hasReloaded == 'true'" [title]="'Recomendado por IA'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
              [items]="IA_recomended" [canNavigateLeft]="true" [canNavigateRight]="true">
</app-carousel>

<mat-tab-group>
  <mat-tab label="Popular">
    <app-carousel [title]="'Popular'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
                  [items]="popularMovies" [canNavigateLeft]="true" [canNavigateRight]="true">
    </app-carousel>
  </mat-tab>
  <mat-tab label="Contenido Nuevo">
    <app-carousel [title]="'Nuevo'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
                  [items]="newMovies" [canNavigateLeft]="true" [canNavigateRight]="true">
    </app-carousel>
  </mat-tab>
  <mat-tab label="Mejor Calificado">
    <app-carousel [title]="'Mejor Calificado'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
                  [items]="topRated" [canNavigateLeft]="true" [canNavigateRight]="true">
    </app-carousel>
  </mat-tab>
</mat-tab-group>

<app-slider [data]="slider"></app-slider>

<mat-tab-group>
  <mat-tab label="Elije por Genero">
    <div class="filterDiv" style="margin-inline: 5rem">
      <!-- Filtro por Género -->
      <mat-form-field appearance="fill">
        <mat-label>Elije Género</mat-label>
        <mat-select (selectionChange)="onGenreSelected($event.value)">
          <mat-option *ngFor="let genre of genres" [value]="genre.id">{{ genre.name }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <app-carousel [title]="'Género'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
                  [items]="filteredGenre" [canNavigateLeft]="true" [canNavigateRight]="true">
    </app-carousel>
  </mat-tab>

  <mat-tab label="Elije por Tipo">
    <div class="filterDiv" style="margin-inline: 5rem">
      <!-- Filtro por Género -->
      <mat-form-field appearance="fill">
        <mat-label>Elije Tipo</mat-label>
        <mat-select (selectionChange)="onTipoSelected($event.value)">
          <mat-option *ngFor="let tip of tipo" [value]="tip">{{ tip }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <app-carousel [title]="'Tipo'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
                  [items]="filteredTipo" [canNavigateLeft]="true" [canNavigateRight]="true">
    </app-carousel>
  </mat-tab>
</mat-tab-group>

<app-carousel [title]="'Peliculas Populares'" [isExplore]="false" [exploreLink]="'/movie/category/now_playing'"
              [items]="moviesSlider" [canNavigateLeft]="true" [canNavigateRight]="true">
</app-carousel>


<app-carousel [title]="'Series Populares'" [isExplore]="false" [exploreLink]="'/tv/category/airing_today'"
    [items]="tvSlider" [canNavigateLeft]="true" [canNavigateRight]="true">
</app-carousel>
